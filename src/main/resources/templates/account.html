<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Account Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body>
<h1 class="p-3 mb-2 bg-light-subtle text-emphasis-light">Account Page</h1>


<p>
    Your account information is as below.
</p>


<!-- display username and role -->

<div>


    <!--		Role(s): <span sec:authentication="principal.authorities"></span>-->


    <!-- Check for login error -->
    <div th:if="${session.user}" class="shadow p-3 mb-5 bg-body-tertiary rounded">
        <p>User: <span sec:authentication="name"></span></p>
        <p th:text="'First name: ' + ${session.user.firstName}"></p>
        <p th:text="'Last name: ' + ${session.user.lastName}"></p>
        <p th:text="'Email: ' + ${session.user.email}"></p>

    </div>
<!--    <tr th:each="tempUser : ${users}}">-->
<!--        <td>-->
<!--            <a th:href="@{/account/delete(userId=${tempUser.id})}"-->
<!--               class="btn btn-danger btn-sm"-->
<!--               onclick="if (!(confirm('Are you sure you want to delete this employee?'))) false">-->
<!--                Delete</a>-->
<!--        </td>-->
<!--    </tr>-->
    <a th:href="@{/account/delete(userId=${session.user.id})}"
       class="btn btn-danger btn-sm"
       onclick="if (!(confirm('Are you sure you want to delete this account?'))) false">
        Delete Account</a>

    <br>
</div>

<br>
<!-- Add a logout button -->
<form th:action="@{/logout}"
      method="POST">
    <button class="btn btn-info">Logout</button>
</form>
<a th:href="@{/}">Back to Home Page</a>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
</body>

</html>









